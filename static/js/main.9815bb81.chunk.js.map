{"version":3,"sources":["sprites/player/PlayerBaseChassis.png","sprites/player/PlayerHurtChassis.png","sprites/player/PlayerNearDeathChassis.png","sprites/player/PlayerBaseSpecial.png","sprites/player/PlayerDeployedSpecial.png","sprites/player/PlayerBaseEngine1.png","sprites/player/PlayerBaseEngine2.png","sprites/player/PlayerBoostEngine1.png","sprites/player/PlayerBoostEngine2.png","sprites/player/PlayerBrakeEngine.png","sprites/player/PlayerBaseWeapon.png","sprites/player/PlayerFiringWeapon.png","sprites/bigenemy/BigEnemyChassisBase.png","sprites/bigenemy/BigEnemyChassisHurt.png","sprites/bigenemy/BigEnemyChassisNearDeath.png","sprites/bigenemy/BigEnemySpecialBase.png","sprites/bigenemy/BigEnemySpecialDeployed.png","sprites/bigenemy/BigEnemyEngineBase.png","sprites/bigenemy/BigEnemyEngineBase2.png","sprites/bigenemy/BigEnemyEngineBrake.png","sprites/bigenemy/BigEnemyEngineBoost.png","sprites/bigenemy/BigEnemyEngineBoost2.png","sprites/bigenemy/BigEnemyWeaponBase.png","sprites/bigenemy/BigEnemyWeaponFiring.png","sprites/enemy/EnemyBaseChassis.png","sprites/enemy/EnemyHurtChassis.png","sprites/enemy/EnemyNearDeathChassis.png","sprites/enemy/EnemyBaseSpecial.png","sprites/enemy/EnemyDeployedSpecial.png","sprites/enemy/EnemyBaseEngine.png","sprites/enemy/EnemyBoostEngine.png","sprites/enemy/EnemyBaseWeapon.png","sprites/enemy/EnemyFiringWeapon.png","components/DisplayCanvas.jsx","displayables/Displayable.js","displayables/composites/CompositeDisplayable.js","control/KeyListener.js","wylaga/control/player/KeyboardController.js","sprites/Images.js","displayables/primitives/ImageDisplayable.js","utils/UnitVector.js","displayables/primitives/SolidRect.js","displayables/primitives/CircularAnimation.js","displayables/primitives/LinearAnimation.js","wylaga/displayables/EntityDisplayable.js","wylaga/displayables/ModularShipDisplayable.js","wylaga/displayables/ShipDisplayable.js","wylaga/displayables/Sprites.js","wylaga/displayables/Starfield.js","wylaga/EntityCollider.js","wylaga/entities/Entity.js","wylaga/entities/Ship.js","wylaga/Model.js","wylaga/entities/Projectile.js","displayables/primitives/TextDisplayable.js","wylaga/Stage.js","wylaga/control/npc/HostileController.js","wylaga/control/npc/WaveController.js","wylaga/control/npc/StageController.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","DisplayCanvas","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","render","canvas","repaint","ctx","getContext","beginPath","clearRect","getWidth","getHeight","root","display","canvasRef","current","width","height","update","setRoot","React","createRef","react_default","a","createElement","style","border","ref","Component","Displayable","x","y","onDisplay","onUpdate","arguments","length","undefined","getX","getY","setX","_x","setY","_y","translate","dx","dy","save","restore","CompositeDisplayable","components","Set","forEach","d","add","bind","remove","delete","size","clear","KeyListener","pressMap","releaseMap","actionMap","bindKeyPress","keyCode","action","bindKeyRelease","bindAction","fn","keyPressed","e","toString","keyReleased","KeyboardController","entity","upPressed","downPressed","leftPressed","rightPressed","isFiring","isBoosting","setTrajectory","getSign","setFiring","setBoosting","pos","neg","makeImage","src","image","Image","PLAYER_CHASSIS_BASE","PlayerBaseChassis","PLAYER_CHASSIS_HURT","PlayerHurtChassis","PLAYER_CHASSIS_DIRE","PlayerNearDeathChassis","PLAYER_SPECIAL_BASE","PlayerBaseSpecial","PLAYER_SPECIAL_DEPLOYED","PlayerDeployedSpecial","PLAYER_ENGINE_BASE_1","PlayerBaseEngine1","PLAYER_ENGINE_BASE_2","PlayerBaseEngine2","PLAYER_ENGINE_BOOST_1","PlayerBoostEngine1","PLAYER_ENGINE_BOOST_2","PlayerBoostEngine2","PLAYER_ENGINE_BRAKE","PlayerBrakeEngine","PLAYER_WEAPON_BASE","PlayerBaseWeapon","PLAYER_WEAPON_FIRE","PlayerFiringWeapon","BIG_ENEMY_CHASSIS_BASE","BigEnemyBaseChassis","BIG_ENEMY_CHASSIS_HURT","BigEnemyHurtChassis","BIG_ENEMY_CHASSIS_DIRE","BigEnemyNearDeathChassis","BIG_ENEMY_SPECIAL_BASE","BigEnemyBaseSpecial","BIG_ENEMY_SPECIAL_DEPLOYED","BigEnemyDeployedSpecial","BIG_ENEMY_ENGINE_BASE","BigEnemyBaseEngine","BIG_ENEMY_ENGINE_BASE_2","BigEnemyBaseEngine2","BIG_ENEMY_ENGINE_BRAKE","BigEnemyBrakeEngine","BIG_ENEMY_ENGINE_BOOST","BigEnemyBoostEngine","BIG_ENEMY_ENGINE_BOOST_2","BigEnemyBoostEngine2","BIG_ENEMY_WEAPON_BASE","BigEnemyBaseWeapon","BIG_ENEMY_WEAPON_FIRING","BigEnemyFiringWeapon","ENEMY_CHASSIS_BASE","EnemyBaseChassis","ENEMY_CHASSIS_HURT","EnemyHurtChassis","ENEMY_CHASSIS_DIRE","EnemyNearDeathChassis","ENEMY_WEAPON_BASE","EnemyBaseWeapon","ENEMY_WEAPON_FIRE","EnemyFiringWeapon","ENEMY_ENGINE_BASE","EnemyBaseEngine","ENEMY_ENGINE_BOOST","EnemyBoostEngine","ENEMY_SPECIAL_BASE","EnemyBaseSpecial","ENEMY_SPECIAL_DEPLOYED","EnemyDeployedSpecial","ImageDisplayable","drawImage","getImage","setImage","_image","UnitVector","magnitude","Math","sqrt","_dx","_dy","getDx","getDy","SolidRect","color","fillStyle","getColor","fillRect","CircularAnimation","frames","interval","reset","LinearAnimation","onConclusion","counter","index","getCurrentFrame","EntityDisplayable","sprite","explode","expire","setSprite","_sprite","getSprite","getEntity","ModularShipDisplayable","body","weapon","engine","special","fire","hit","specialOn","specialOff","changeDirection","activate","deactivate","setWeapon","_weapon","setBody","_body","setSpecial","_special","setEngine","_engine","getWeapon","getBody","getSpecial","getEngine","ShipDisplayable","onDirectionChange","innerDamage","damage","innerFire","onFire","innerSetBoosting","value","innerSetTrajectory","makeModularPlayerDisplayable","onExpire","makeModularWeaponDisplayable","Images","makeNewPlayerWeaponDisplayable","makeModularBodyDisplayable","makeNewPlayerBodyDisplayable","down","neutral","up","makeModularEngineDisplayable","makeNewPlayerEngineDisplayable","makeModularSpecialDisplayable","makeNewPlayerSpecialDisplayable","explosion","makeNewExplosion","makeNewPlayerExplosion","centerOn","makeSmallEnemyProjectile","projectile","makeBigEnemyProjectile","makeProjectileDisplayable","radius","particleCount","Explosion","makeExplosion","base","deployed","displayable","baseImage","hurtImage","direImage","direThreshold","duration","getHealth","firingImage","makeModularEnemyDisplayable","makeSmallEnemyExplosion","makeEnemyBodyDisplayable","makeEnemyWeaponDisplayable","makeEnemyEngineDisplayable","makeNewBigEnemyDisplayable","makeBigEnemyExplosion","chassis","makeBigEnemyChassis","makeImageDisplayable","makeBigEnemyEngine","makeBigEnemyWeapon","Particle","lifespan","velocity","trajectory","_lifespan","_onExpire","_this2","_expiredParticles","pushExpiredParticle","push","i","speed","random","particle","superUpdate","p","makeStarfield","starCount","_loop","star","floor","EntityCollider","primaries","addPrimary","group","processCollisions","primaryGroup","getEntities","primaryEntity","getSecondaries","secondaryGroup","secondaryEntity","entity1","entity2","minX1","minY1","minX2","minY2","maxX1","maxY1","maxX2","maxY2","entitiesCollide","onCollision","PrimaryGroup","entities","secondaries","addSecondaryGroup","SecondaryGroup","Entity","_velocity","vector","setLocation","setVelocity","_width","_height","Ship","maxHealth","onDeath","readyToFire","getCurrentFuel","curFuel","getMaxFuel","maxFuel","curHealth","getMaxHealth","isDead","assertThisInitialized","heal","healing","updatePosition","DEFAULT_VELOCITY","BOOST_VELOCITY","Model","friendlyShips","friendlyProjectiles","hostileShips","hostileProjectiles","allEntities","expiredFriendlyShips","expiredFriendlyProjectiles","expiredHostileShips","expiredHostileProjectiles","expireds","notifyExpiration","entityExpirationListeners","shipSpawnListeners","projectileSpawnListeners","notifyShipSpawn","ship","callback","notifyProjectileSpawn","source","subscribeEntityExpired","listener","subscribeShipSpawned","subscribeProjectileSpawned","spawnHostileShip","spawnFriendlyShip","spawnFriendlyProjectile","spawnHostileProjectile","initializeLifecycleMethods","shipToShipCollisionListeners","hostileProjectileCollisionListeners","friendlyProjectileCollisionListeners","subscribeShipToShip","subscribeHostileProjectile","subscribeFriendlyProjectile","notifyCollisionListeners","listeners","friendlyShipPrimaryGroup","hostileShipSecondaryGroup","friendly","hostile","hostileProjectileSecondaryGroup","hostileShipPrimaryGroup","friendlyProjectileSecondaryGroup","collider","initializeEntityCollider","expiredSet","entitySet","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","removeExpiredEntities","list","expireFriendlyProjectile","expireHostileProjectile","expireFriendlyShip","expireHostileShip","initializeInternalEventListeners","northProjectileCatcher","southProjectileCatcher","Projectile","onHit","TextDisplayable","getString","font","fillText","Stage","waves","nextWave","hasWave","HostileController","maxX","maxY","drunkenEntity","quarterY","updateEntity","WaveController","onWaveExpiration","controllers","setWave","wave","controller","onEntityExpiration","StageController","game","onStageComplete","stage","waveController","setStage","nextStage","WIDTH","HEIGHT","App","initializeScene","player","entityLayer","hudLayer","Starfield","addToEntityLayer","removeFromEntityLayer","initializeGame","initializeEventListeners","initializePlayer","initializeEnemies","enemyController","sourcesToSpriteMakers","get","Sprites","set","initializeController","baddies","concat","initializeWing","badGuy","badGuy2","bigBadGuy","timestamp","window","performance","now","Date","getTime","startTimer","dt","carry","last","requestAnimationFrame","tick","delta","playerController","Map","projectileDisplayable","_this3","keyListener","onkeydown","onkeyup","className","DisplayCanvas_DisplayCanvas","Boolean","location","hostname","match","ReactDOM","App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9815bb81.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACDUlEQVRoQ+2YwXGEMAxF4ZhyuKaAdOE6UkPqcBcpIFfKyTE79kaMkGVLNtYuIeayM4uR9PQlYTxPF7nmi3BMA+RsSg5F/pUi3vsfDOycM6sAM8MBIIA45yKL934aIIo6NlMEygorEuKxUsUEhEJAQkN5WcGYgYAS3593jJe3+69VrwyQXP/hsgI1YG1Qxaq8uipCe4MDgfLq3SvdQWhvUOWsemWA0ExLZYX7xKK8DinC7KU2PtofFATDwL0jL8tqkFLwENCyLNPXx8oOttf3ZVrX9B5Ms1YoFYgmeBx1Cwh+vgUqC1IbPAcSso+voFJOkcJ7aXcrV34sSG6vlHNG/w+KwAVlxP2ntQfrSi/TBOQoRHBqBVKadjsQAYJC777+aGkdUET0wymzPVQJAXEWYeh0CkpxEwslIdeziR8KswOB7QWpXWmysTBc0AJItR/8SSCBSMZFZZQN3eQnAenR4MqAuy7D5RUzgU87unp6gDFQRQShb9kQW6aXYtjceo6n1kZu/QZSKivu+1pa/wtarPkWG7mqgcTNpQW57QAXSO0nbIuNUqwsiOakgxrVPENLrMUGBxN8JyDagFqC6AHCDacERAvxgGEkuqDnypsifwkC7YbjIfmmiGbSiCl60gIYGlGRAfIkFbDbaypy5BjmBKLEvaJ2+3yGeIsxDJCzSTQUGYoYZWCUllFim83eAMSCqDoeVT/pAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACEElEQVRoQ+2YwW3DMAxF5VvXcY8doFNUc3SGzuFO0QF6TNbpLQUd0KBpiqJkMXBd+RIgYaj/9ElJ1hBO8gwn4Qgd5GhOdkf+lSPTNN0ocIzRrQLcEgMAgLzFOLN8TlPoIIY6dnMEy4o6Anq8XHEB4RA4oVBeXjBuIOjEz9cd4+n1/unVKx0k1X+0rNANjAVXvMqrqSO8NyQQLK/WvdIchPcGd86rVzoIn+lcWdE+8SivXY7wsxSWFQjl/cFBKAz+tmezLAbRxKOg53EM3x9XcWF7eR/D5br9DVezWigTiEU8VV0DQv9fA5UEKRUvgcDs0wdcSjmS2pesUCJI6qxkOITOIeAIPlhG0nfWfBinbaYbkL0QniDaarcC0SCGsL5xuYWwevvjpVXriGUcyZkFpAQCReZg+OoE5SWtWJiPQ2jjcJgVCN0HcslzMJJoDSQFkYPBvUcFySXPwVibuXYc+m4zg7RocKvolnG0vBYQqaxaDuqVC13JgvANCQRp0FK8BFGaIxW/gGhlJb1f5+JBdO7wV5OD3pFJx5lBC0gJkoSUvsLW5NC0iiCWmw6e1PIfXmI1OSQYGHsDYhVUI6IFCK6ytGc2IFYIrxWoJC+/V14c+UsQCIwwiyOWlaZkth4Zi4vG7EgHeeTUJ8Y6pyO5nfgAE69KAFdMtyhHBwF9HeRoLnVHuiNOM9BLy2liq9P+AhJ7sDqaq0RRAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACmElEQVRoQ+2YS07DMBCGnSWLnINKrLJAqjgApyAXKAfgDByAXiCcggMgJBZdIZVzZNFl0LgedzKZ2E4aq0lxNqCkHs83v+eRZOpKruxKOFQCmZuSSZF/pUhVVQ0FLssy2gmIZhgAAKQsS81SVZVKIAHnOJoi+zxvbu9qlX0dvQBF4IqlShQQDoEBjQkTBaRZq+b3J1erulaHjyPGzeNJmRiqRAGhSb5YECy5UK0QAo8WqBLreE2qCIUA5yWQWIk/OQj2DQ5BVYnRVxII71G+YyUpMmVfmUwRWqmk/OAgNFfw2TlleTAIHQTZxnZALIpCfb7uxMHi4aVQu1332bmzWBAIn2LvNxtlxg+9Hhog/MVxZCjIPs+1PWND23QETAxQL4gwglsDzVo7rdfiOIKdHO4hCESfXqCSpAjYM+utP2AXJgPsO77jJ4LwxJVCQKNIIRAE1+AxAjh+j9oFe6u6zqTA4O9czbQDEgIhaktuSk6HgOC0bBQXt+mDaYF4IDh06+2P7joGhKx37oPKcUq7aCAE2nHC8OoEgFLFckB09qH5aUq+ZmiB4HjBaH2VTYSRnPaABO1Dc+l7u7Uvaj4Qn3GvMr58Ms8H7QOqwPX+fPoO0AKB/gAlbykXTfxWJOib3ZJgYMLogOjEMR8M4H/ekOBeTy5pdun3UlCG2uj7PY42GVarp7cSu6vdV5p/XNUt9O1vjA0+lPImqUEkWtcQJzkSCkEc0NWO7u2z4fJVBAmZRLnRkDX8iI2xIcHA3h2QUIfGODEFiMnD1inqgIRCzKGi8e/KVpElQdA8gxyzipikC+2ucxCEVtbjSx2pQAnkkhKhENelyDmfYS6pBk36ReaFFLwEMocjRX1IiiRFIkUgHa1IgR1t9g8sG+s6aH7n+AAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAECAYAAADmrJ2uAAAAOklEQVQoU2NkQAKGhob/kfnnz59nROZTi43PHriF6IpgllPbUYTsATsIlyJqO4oYexgJKaKWo4i1BwCsKx2XCVZoUgAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAECAYAAADmrJ2uAAAAS0lEQVQoU2NkQAKGhob/z59bAxYxNAphOH/+PCOyPLXY+OyBWwhTBHIICIAcRgtHEbIH7CBkRSghRGVHEWMPI3Lw4YoSaoQUsfYAALVdR5fmYNrmAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAHCAYAAAAWAl2LAAAAQ0lEQVQoU2NkgIHv3//D2TAGJycjhhg+ATxmIAwafhaBggTZV6QGG7YoQDIDMw5AlpFrCbJlaGaQFtkkpQxUxXSzCAD+TB4IwJjyDwAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAHCAYAAAAWAl2LAAAAQklEQVQoU2NkgIHv3//D2TAGJycjhhg+ATxmIAyim0UglyJbRqpvsIUMkhmYQQOyjFxLkC1DM4O0OCApwlAVDz+LAKzqGAh4HcFtAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAHCAYAAAAWAl2LAAAASElEQVQoU2NkAIHv3/+DaWyAk5MRpxyyBAEzGPFaAjOIkGX4LIGaMRwtolscweIBWzgTihv0VILHDEgcwQxEVogsRshCIswAADTHNbwgviCpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAHCAYAAAAWAl2LAAAARklEQVQoU2NkAIHv3/+DaWyAk5MRpxyyBAEzGPFaAjOIkGX4LIGaMRwtolscweIBWzgTihv0VILHDNQUhayQVEuwORjJDADFrCnPinVJugAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAHCAYAAAAWAl2LAAAAP0lEQVQoU2NkgIHv3//D2TAGJycjhhg+ATxmoBqErJBUS7A5GMkMTBeDLCPXEmTL0MwgLWhICkdUxaMWkR14AOVbEggz65+VAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAH0lEQVQYV2NkwAEYyZdYvHjxf5Du2NhYsClwo4iWAADCcgwHip7LSgAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAN0lEQVQYV32NyQ0AIAzDnEE7XQcFpVIQH3g1zSFrwRLIFyBafmJaJzzNmFf4WTwZnnf3wKtquBuM1BYBeezCIQAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACsklEQVRoQ+2Z23GEMAxFoZzQ2Na0jZFyyBhiELIeVzKbSdjsV4ZgScd6GXkcbvIbb8Ix/IP8Nk+mPDLP8zJNU7O2PI8AajKk555cCEQyUDfiw9O5/n+ePwd0MxAwEUQ2HDMQogi8VID5TwJTw2OarjJ8/NaxhMJOY61gHOYEUj2Rg9AMjj733SXB7CB9EEV51OA+T3GYFaQfwtrFPoMtyRRmB8mFk6SmGu6FyHU5U/Ll3UEi4fKqdzeP13405vLjVcZF5B4ga6nZjhtez+AKeB5Y8Y4Yp8lD1m5eeVeQWomuqTh6XYt4POWRPwfi5YQFVNZWjyF/U79oPYjKK++fI8LIkduBZEMpeu7yTgF2zgAeyYLUdbGkzSZ/AATNCW4KCkJzKZIzR1NU+oiXdHTHS+JphljHe0QGZkegIWqnXFo9vF2Veg9fY22IHng7SHnFP6Z4CYkc6a9vpPWbRDnGY2ccH20cn8uwfqs/xjIM7AVp7dpPv9tRmB8cbwPi7zXyxnM5D2ke4yWDlJPqxiNonkhzpiqZ55kHEpElbVzzzS6HV7tUmynV9XwzLJCoLA2kzrdO4yCvcmljzqqEf21qIBYElRWxBwZBlHPPWiDePBf5BKcbCw3oUIgrQbRwPTy2zYSb0LLyxAspGr+0lPd4xAsxblMz+5XiMgtSjKkwtPT2yKMeoeEJDbGjimn14iCRMNWixBxiW66MgHil/ApZkgzofiSjnDdJ2vy8iqXl3LZJ5ySv76o3VjRXouHA+8oB1d47So1O60sVBLqx0speFsYyNANBSy5dr16GSg0pGmJZCCnPvI00b3U5jCesx3CeF7TyIXrd62kJJpKsGTjaVBGIosMF4TmDCs4A9OiCQKgCLdmyhkvr6D0/6n0Y5LxbsTIahTzCGdcTAoka9JPv3wbkC//eqd5laSHdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAClElEQVRoQ+2ZW3KDMAxFYTllYe2a2oXR5aRjMiKKkHyvbGBaUqYfKcGSjvXEGYeLXONFOIZ/kN/mySaPzPN8m6Zps7bczwBGMrz7SC4F4hkYGfE2TUjn8v33PA/sZjBgLohnOGsgRZF4qADbywMLw2Mvw8fhXlBuy1//JWAW5glEPNECERmcvc+gejArSA9EUZ41uNdTFmYB6YWo7WKvwTXZGmYFaQknT4kYjkJkz5wp+fLaIJlwOepZ8bj0o7ElP44yLiNXgyzFpoCg/LAKbB7U4p0xLpLHrJUp4TVBxJ17VZyosmU83uSRPweCcqIGVNaKx5jP2itRD9LyvLmtVC43Ry4H0hpK2bkLTQEoZ6BHWkFkHTIAAbByaBA2J6xhLIjOpUzO6KZYzRFrmC27YkBkSG2817td5HoyUPJDEMblVjHaVa/3sDKQPWtolQfRmIKEMSP9EY1U3kncMZ6dcRBckfN5u7+rf4yP/oLWoY6vN2SdfssiOzheBqR1x+y6L3Nu8k6douW0bzzC5ol3ziSqbZ4hkIwsD2/zzu6FF1pov/de0Gog0fmU2MJsrD6tfDoOQpUrOuYUKAsTgdQgtKyMPTQIo9x6tgaCznOZV/DQI5E7WYg9QVCIuQd0yJ0opHS+6FLe45GsTZuzXy8uW0GKMQKjS2+PPD1f6fCkDrGzinWIWpBMmEbVtHqIXXNlBgSV8j1keTKo30dalNsmqZsfqlhRzpX7kUfDX6x0rmTDwfYV+T8DEFWtaFOrP73tAZObnB5Pe32ktqHhGBcJyu5qD0hmI6vzqIVpDbEsTIteOFh7Qo/2im6q7OZBEJt0rOCsF7zBM6OLAtEw5fMZHslWOhpEw5wFktGTAmkNlzPWXQbkB1EhoN5mxBeJAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAADO0lEQVRoQ+2Z23HrIBCGoZyoGZeRUlJDynAzSjnKLBhpWfaKNLYnEz2cOeOghY9/b4Kc/siT/whH+gd5NyWnFFnXdVuWZXgXfo8ASja43y27LhBugfIiPqw5y9/X9Sd5N8MDxoLwC/ct0EURGATA9OHARPdYlqsWnh9zbCG3k1gbGIXpQJoScxDSgqO/23JxMDvIOQiYPLrgc0pRmAJCIbZbTumeUrqllO9nPeLcgjV9MMwO0twJIPK9FsotpS3Dv6GnLdx66bqYgXgZQVIGirzd0janxpuAVCUARlMi4i7j2OK6EFWD20bsVsVbPcpzQR6ZsB9bN0lSPGL3ACmbUtsNq2bQCaj7aP5+vNsgxviT7PnAQJXngoiJ5OkgLRPNZZyWEe1sGFG8xklQER4EXAZqDtQeK11XGCulXwZixcQB1NWdkrKBqikGdqz/43ojpW5so0RYtxOKIj6Q6iKP4nmr+fpNQeSYoBmoQOy1J9p3WV2A7moORRSQR1HT4yLm6zLOZSBatsJxQJfiBZFsWDFzFEUha/kM1NYdAs8DI6VszYZvHYH0y4lOF2/tKgfitaHH0A4Cw+w2xQpICRb/PldItZnbN8nQxteXfD2OjZbz91ZT2WfpFc+CjOvau9/aCtPGkQcpFRweqOJsGz4G+4tB+L2mX4997Rjf+YZyiZ7PbLUmtsZ0xKCIFScYohmj5180ziwQ7syq2fbE7PDNzrtXz44rObdv3AeaBiKdT7W1WBtbxx2nld1xkLYLrcNtBxMeGAlEg8BqW6pMgXgmp8pqINZ5rucTXASR5PRCXAliuRh7QGfJKZ2cS+7VXOKMItE1DWe/nF/OgsBiGgxOvWfsHYD9tYTrEDs6MXZRChJxUymbqofYmpQRECuVX2GLs+G6H5mZnBY2XPysjIVjD7dPrQT8fK3DbZd4Y4VjJeoOcuUf7x21pgSnYK6zwO+qV29XwMS7p/pGB/E4ZtVsiZehXEGKutgsBI0zSw0Yr97qUphZF4sCcRdPWmtkgnDV9Rmq4AD3bl7onh1ixms4qgJNENG5XCBYmVrsYtknCoW/c7xzuUF6N3sOiBfCFSPR3XzV+JAir1qkZ95f2OPo3qXvgSAAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABSklEQVRoQ+1X7Q7CMAjcns/n9flmXGzS1AIHa9E15y9jKNwHlLpvi3z2RXhsJPJvTtIROjJJgfmt9TiOE/tzn1prXHIJsPf3oGMkAgt3u9YqzApwi+ngmRnXWrck4mmXWbGN4zFHZoHz5A0RaQu0c6D1OwJOyoec/RDCHFmOSLFz8I3zdcF5HA85cjsiVitphN5ni2PI99oOaQfV+YR3W39GliMSbaXRD0VgZnRHokSkLR+9JIYRQWeivX4AAOeRepY8M1PFYo5IRAoACUgBqf2x0nJYw28SsV6uPRUtVXtt1Z7RBDEwYZsdIdaLQVsrmt90xPHGUTFIeyQKXMGF7ZErhXvL8Uo+10KMFvrhubkzkkiMRBLFhkrREUimxCA6kig2VIqOQDIlBtGRRLGhUnQEkikxiI4kig2VoiOQTIlBdCRRbKjUMo68AOeZ7TO5GZGBAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABRUlEQVRoQ+1XSw4DIQgd739oGxc2xgg8GKHV0NWkRXgfGGx5LvmUS3g8SeTfnExH0hEnBdxbq9anNuyl+L5YthGhAGu/txqWRFDljmutTqwDl4junpltrXUkEU27eMXOjpsc8QKnyWsiMheY54DrdwQclQ852wlBjlxH5MveeUtrHDc5chwRqZU4Qu1snxnkeRxaageN+ah723JGriNibaXdF0VkZlhHrESoLW+9lmwjgs7EvKQQAO3MOEuamRljIUcoIh0ABaSD5P5YcTmk4ReJSDfXlYqSqqu2ms9wgkiYoM0uJaF+R1vLml90RHPH4UBQe8QKnMMF7ZE3hVfL8U0+1UK0FvrlOdcZiSSWRCLVRmqlI4hKkTHpSKTaSK10BFEpMiYdiVQbqZWOICpFxqQjkWojtdIRRKXImHQkUm2k1jWOfADfpu0zeQnpCQAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAvklEQVRoQ+2TMRLDIBDE4P+PJuMiGbcC1GREvSx3kj3Hn5x5usdaY805jnpudBwP8AWxu8yzxGnHc397kfcAu4Pc6Pi9vftp3RjiRkeL7Bq0723/I/ZgtL9FKDE7nxGbMO3PCCVm5zNiE6b9GaHE7HxGbMK0PyOUmJ3PiE2Y9meEErPzGbEJ0/6MUGJ2PiM2YdqfEUrMzmfEJkz7M0KJ2fmM2IRpf0YoMTufEZsw7c8IJWbnM2ITpv0ZocTs/AdHAR4z/Mi/ugAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAwklEQVRoQ+2UMQ7DMAzE4v8/2kWGFBk60eJQgNnvLJNy1nXw7X3tJ77WtUjVRMd9Ljr8GXhiiImOo4u8B6BWJjq+Z5N1uDMTQ0x0dJFf7+OvV4uupJU7+mtZQ5HeLkKomZmMmHRJd0YINTOTEZMu6c4IoWZmMmLSJd0ZIdTMTEZMuqQ7I4SamcmISZd0Z4RQMzMZMemS7owQamYmIyZd0p0RQs3MZMSkS7ozQqiZmYyYdEl3Rgg1M5MRky7pzgihZmY+zgAkMw9fFzUAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAtUlEQVRoQ+2UQQrDMBDE7P8/OiWHlp5lC4xR7jPeldjMcck3L9ljtMhr8nnG8zU6J4Oyo+OdYcnIjiF2dCwt8j8AtbKj4/d2x34YgaUbOWmXFjnJxtJfq0UkAt2IBBbXZgSjk4IZkcDi2oxgdFIwIxJYXJsRjE4KZkQCi2szgtFJwYxIYHFtRjA6KZgRCSyuzQhGJwUzIoHFtRnB6KRgRiSwuDYjGJ0UzIgEFtdmBKOTgtcY+QCjNhIz8zIRGwAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAw0lEQVRoQ+2UMQ7CMADEkv8/OlUHEEIdIHYXcPcziV06B3zWGmvOMQnGYGwf4Pzx98N/eyGD8TjD1kWuDvAEfljHYLyK/O+LnCaM18JgoFfrpy5CvlJ3bLf+I3cchDK7CDVo7ytiG6W8ilCD9r4itlHKqwg1aO8rYhulvIpQg/a+IrZRyqsINWjvK2IbpbyKUIP2viK2UcqrCDVo7ytiG6W8ilCD9r4itlHKqwg1aO8rYhulvIpQg/a+IrZRyqsINWjvD/2gJDOJ4XRzAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA10lEQVRoQ+2T0QrCMBAEk///6EjFiIiSIT0GWrZPBbe3uRnT28YzRhu9t358+u99NbZixmfH8zA7z3GQ7+/mcnRexYzZtbXIrwO8B75MrZapmHHaSMUhKmacXmTejcv/tW61yOoO2L9vXXb7kKQvixBKZiZGTNqkK0YIJTMTIyZt0hUjhJKZiRGTNumKEULJzMSISZt0xQihZGZixKRNumKEUDIzMWLSJl0xQiiZmRgxaZOuGCGUzEyMmLRJV4wQSmYmRkzapCtGCCUzEyMmbdIVI4SSmXkAfM0wM/2UiI4AAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAArElEQVRoQ+2SwQ3DMBSF4nW8/yxep1UWyAEXqXLo/ZF+8LgO+Y1D7rg65N9KVqQikoGeliQWYyuC1UnDikhiMbYiWJ00rIgkFmMrgtVJw4pIYjG2IlidNKyIJBZjK4LVScOKSGIxtiJYnTSsiCQWYyuC1UnDikhiMbYiWJ00rIgkFmMrgtVJw4pIYjH23UXWWp9b3ZzzpyJ2uOiP7Hzw6e3scNEh+CGLw2MO+QLS3BAzYD7sCQAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA4klEQVRoQ+2aUQqDMBBEN8fp3v8s6XFSgliKoDFTpxR5/bSZcfe9fFriJr9ykz2CRf7NJEYwYiLA1TKBlWsxIqMzBTFiAivXYkRGZwpixARWrsWIjM4UxIgJrFyLERmdKYgRE1i5FiMyOlMQIyawci1GZHSmIEZMYOVajMjoTEGMmMDKtRiR0ZmCGDGBlWsxIqMzBTFyCdgWLco1X198b2Q0zPr/9tzec5GQtEitteUjl1d2omeHPXGuPmtk5vRc04E++3uRz2uxHXLP1NHz3v3LRYb2R9dtWDB/QDIy/xp/4gWhMzYzMrUnHAAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABOUlEQVRIS72VwQ7CMAxDW4nPZAe+gzPfwWF8JtJQJnlyXWctHOiF0aV5sZe2tfxh1D8wioWs67oFfFmW4z3muCj3nucQ20Ei2W25/izwub6a4iJRAzkDvEutl7Jt+uuqUVBjh1OApJEsnpE0gJjDMwMZlEK44ljskgLKCgHqIM4mTjD6QFksQLsShqgCVuFgaiHbe0BUxTcKFOrWBqhmkJGCDKDrOghLzb7DfavlUffGSoda1inRNoz/aO0AYAAUlXKMkq1drgVhqUK4TbONnEJ0x85AtEu52M4ud/ZwlfxNRrEB2pVoBTMLnaWY44LSzeggzoqZuAYyowYxqNjdG05FxNsDMqvydHPI8TR1Cn8L0ha2kFnLMjWZVY1dCuHTdWQT3uPOSW9GbcFfIcM7nkHx7DrozK5szQeKpGWBixDotwAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABK0lEQVRIS72VURKDIAxE4Z7lLt6F3pNOWtdZwkbQzuiPCkleNkDI6YEnP8BIElJrbQYvpRzzGOOk1DyPwXaAWLBXKbcFvmvtkrNAHeQMkFPKLaXm3yobD+rKoRQg6J7RYW9AjOGbgQwKIZyxOaugZoM5TsbGBogqEweYLVBkC9A3E4Z4BaxCwQBQig6IV3FFgYcqXwPlCDJTEAG83wDxi6fKs7WUtkmf4DhSid+G9o+tbQA8AFkQtvGJnUJ4C6KkHqJsliH+xK5A/C4FTCpRvYc3B6/JzBaHcjgnK46cpe+6nFB4GBVElWLFroP4IGcBoELdG0rF3kR/bpHBrG/x/CUIFkxlG0F955Ct/l81Z5UIb0burqslw50T3owIhIzuQqZ3PIPs++qaRD4fCqpHgUH54cQAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABmUlEQVRIS72VMU7EMBBFbQnKcA2Q4ADLXTYF56Ch4QhsSxEOsxItSHANUoJk9L360fd4nE22WDexHM+8+TNjO4YzjHgGRnAhwzAkwPu+n/5zTYPy/usa91YQOHvotycLfB3eiuDgqIDMAf5CjBchJfv1orGgIh2eAjqFM8zpFECuca5ABTUhGjGM0yak788u3IxjVqRQVUhQBfHSxKjh4KO7ys4Ju9xnxjR0r6cmGyrEKqDjuD/U76vr0t34UwGwYBVRTbQqWlFBDcb17RisEhI9W4CaEEY218u/mxhQJyjzmgK2FQTRIlIaeoDHFMNzPNSE+zFXddqRBYTpQIHZSe+7XXbG1gaAAyAoYa28Nq6UqIEtNutmIdqmrYNcKWGb2jS1IDYwD1RAYIBB+QpSY6h5ug+5bhg2MAvKEHtOvAtODTV61M4GpXunc7IEonv09Hvd14SsAW1f+kVpPXpBeimbO5T856nIdfY2sL+9V64F8wpO++ajtVZNS0WhxNZF76IlqcIenvrmy2jTdirk6BuvIMzX1qRl8w+24I+B6uFykwAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAICAYAAAAbQcSUAAAAZUlEQVQoU5WSXQ7AIAiD4Xw7786nI7GxVOYcLxJ+vrSq2y6u1ux2Nz1fdrysYzmakSMCjBpyAmQYK4ihahlwVjyAK4whX1cgs1l2ZakC6txwNGGnihROtjPsL1AUzmff/pGD5gPud8dEUkcSMzsAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAICAYAAAAbQcSUAAAAYUlEQVQoU5WRwQ4AIAhC5f8/2uYBh05rdcmlEK9gl+VuDhj6vkkwNSiOXtScCWOesVZ9MdMEMTSJaa6J8zJ11sEbvibWhCX2hLQ9g6KTKM0U65Vqoylmv4adJL/9J82GfgAS0EUGZYEO5AAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAADCAYAAABF//VLAAAAJklEQVQYV2NkYGBg+P+f4T8jIwMjiI0NwOQZQQyYAmwaUORJUQwA8qoR/gqvwXUAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAADCAYAAABF//VLAAAAI0lEQVQYV2P8/5/hPyMjAyOMZkADKPIgDkwepAmbYrg8KYoBlbUX+770GawAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAACCAYAAACDvVapAAAAGUlEQVQYV2NcvHjx/9jYWEYGIgFIPSM5mgAH8g3TLnIcpAAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAACCAYAAACDvVapAAAALElEQVQYV2NcvHjx/9iYWAYwYGRgZPjP8B8nzcDAsHjJYgZGuCZCGqDyIE0ABLcd08MLnT8AAAAASUVORK5CYIIA\"","import React from 'react';\r\n\r\nexport default class DisplayCanvas extends React.Component\r\n{\r\n    root;\r\n    canvas;\r\n    canvasRef;\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.canvasRef = React.createRef();\r\n        this.canvas = <canvas width={props.width} height={props.height} style={{border:\"1px solid #000000\"}} ref={this.canvasRef}/>;\r\n        this.root = props.root;\r\n    }\r\n\r\n    render = () => this.canvas;\r\n\r\n    repaint = () => {\r\n        const ctx = this.getContext();\r\n        ctx.beginPath();\r\n        ctx.clearRect(0, 0, this.getWidth(), this.getHeight());\r\n        this.root.display(ctx);\r\n    };\r\n\r\n    getWidth = () => this.canvasRef.current.width;\r\n    getHeight = () => this.canvasRef.current.height;\r\n\r\n    update = () => this.root.update();\r\n\r\n    setRoot = (root) => this.root = root;\r\n\r\n    getContext = () => this.canvasRef.current.getContext(\"2d\");\r\n}","export default class Displayable {\r\n    constructor(x, y, onDisplay, onUpdate = () => {}) {\r\n\r\n        this.getX = () => x;\r\n        this.getY = () => y;\r\n\r\n        this.setX = _x => x = _x;\r\n        this.setY = _y => y = _y;\r\n\r\n        this.translate = (dx, dy) => {\r\n            this.setX(this.getX() + dx);\r\n            this.setY(this.getY() + dy);\r\n        };\r\n\r\n        this.display = ctx => {\r\n            ctx.save();\r\n            ctx.translate(this.getX(), this.getY());\r\n            onDisplay(ctx);\r\n            ctx.restore();\r\n        };\r\n\r\n        this.update = onUpdate;\r\n    }\r\n}","import Displayable from \"../Displayable\";\r\n\r\nexport default class CompositeDisplayable extends Displayable {\r\n    constructor(x, y) {\r\n        const components = new Set();\r\n\r\n        super(x, y,\r\n            (ctx) => components.forEach(d => d.display(ctx)),\r\n            () => components.forEach(d => d.update()));\r\n\r\n        this.add = components.add.bind(components);\r\n        this.remove = components.delete.bind(components);\r\n        this.size = () => components.size;\r\n        this.clear = components.clear.bind(components);\r\n    }\r\n}","export default class KeyListener {\r\n\r\n    constructor() {\r\n\r\n        const pressMap = {},\r\n            releaseMap = {},\r\n            actionMap = {};\r\n\r\n        this.bindKeyPress = (keyCode, action) => {\r\n            pressMap[keyCode] = action;\r\n        };\r\n\r\n        this.bindKeyRelease = (keyCode, action) => {\r\n            releaseMap[keyCode] = action;\r\n        };\r\n\r\n        this.bindAction = (action, fn) => {\r\n            actionMap[action] = fn;\r\n        };\r\n\r\n        this.keyPressed = e => {\r\n            const fn = actionMap[pressMap[e.keyCode.toString()]];\r\n            if(fn) { fn(); }\r\n        };\r\n\r\n        this.keyReleased = e => {\r\n            const fn = actionMap[releaseMap[e.keyCode.toString()]];\r\n            if(fn) { fn(); }\r\n        }\r\n    }\r\n}","export default class KeyboardController {\r\n    upPressed = false;\r\n    downPressed = false;\r\n    leftPressed = false;\r\n    rightPressed = false;\r\n    isFiring = false;\r\n    isBoosting = false;\r\n\r\n    constructor(entity) {\r\n        this.update = () => {\r\n            entity.setTrajectory(\r\n                KeyboardController.getSign(this.rightPressed, this.leftPressed),\r\n                KeyboardController.getSign(this.downPressed, this.upPressed)\r\n            );\r\n            entity.setFiring(this.isFiring);\r\n            entity.setBoosting(this.isBoosting);\r\n        }\r\n    }\r\n\r\n    static getSign = (pos, neg) =>\r\n    {\r\n        if(pos === neg) // positive XNOR negative\r\n        {\r\n            return 0;\r\n        }\r\n        else if (pos)\r\n        {\r\n            return 1;\r\n        }\r\n        else // if (negative)\r\n        {\r\n            return -1;\r\n        }\r\n    };\r\n}","import PlayerBaseChassis from \"./player/PlayerBaseChassis.png\";\r\nimport PlayerHurtChassis from \"./player/PlayerHurtChassis.png\";\r\nimport PlayerNearDeathChassis from \"./player/PlayerNearDeathChassis.png\";\r\n\r\nimport PlayerBaseSpecial from \"./player/PlayerBaseSpecial.png\";\r\nimport PlayerDeployedSpecial from \"./player/PlayerDeployedSpecial.png\";\r\n\r\nimport PlayerBaseEngine1 from \"./player/PlayerBaseEngine1.png\";\r\nimport PlayerBaseEngine2 from \"./player/PlayerBaseEngine2.png\";\r\nimport PlayerBoostEngine1 from \"./player/PlayerBoostEngine1.png\";\r\nimport PlayerBoostEngine2 from \"./player/PlayerBoostEngine2.png\";\r\nimport PlayerBrakeEngine from \"./player/PlayerBrakeEngine.png\";\r\n\r\nimport PlayerBaseWeapon from \"./player/PlayerBaseWeapon.png\";\r\nimport PlayerFiringWeapon from \"./player/PlayerFiringWeapon.png\";\r\n\r\nimport BigEnemyBaseChassis from \"./bigenemy/BigEnemyChassisBase.png\";\r\nimport BigEnemyHurtChassis from \"./bigenemy/BigEnemyChassisHurt.png\";\r\nimport BigEnemyNearDeathChassis from \"./bigenemy/BigEnemyChassisNearDeath.png\";\r\n\r\nimport BigEnemyBaseSpecial from \"./bigenemy/BigEnemySpecialBase.png\";\r\nimport BigEnemyDeployedSpecial from \"./bigenemy/BigEnemySpecialDeployed.png\";\r\n\r\nimport BigEnemyBaseEngine from \"./bigenemy/BigEnemyEngineBase.png\";\r\nimport BigEnemyBaseEngine2 from \"./bigenemy/BigEnemyEngineBase2.png\";\r\nimport BigEnemyBrakeEngine from \"./bigenemy/BigEnemyEngineBrake.png\";\r\nimport BigEnemyBoostEngine from \"./bigenemy/BigEnemyEngineBoost.png\";\r\nimport BigEnemyBoostEngine2 from \"./bigenemy/BigEnemyEngineBoost2.png\";\r\n\r\nimport BigEnemyBaseWeapon from \"./bigenemy/BigEnemyWeaponBase.png\";\r\nimport BigEnemyFiringWeapon from \"./bigenemy/BigEnemyWeaponFiring.png\";\r\n\r\nimport EnemyBaseChassis from \"./enemy/EnemyBaseChassis.png\";\r\nimport EnemyHurtChassis from \"./enemy/EnemyHurtChassis.png\";\r\nimport EnemyNearDeathChassis from \"./enemy/EnemyNearDeathChassis.png\";\r\n\r\nimport EnemyBaseSpecial from \"./enemy/EnemyBaseSpecial.png\";\r\nimport EnemyDeployedSpecial from \"./enemy/EnemyDeployedSpecial.png\";\r\n\r\nimport EnemyBaseEngine from \"./enemy/EnemyBaseEngine.png\";\r\nimport EnemyBoostEngine from \"./enemy/EnemyBoostEngine.png\";\r\n\r\nimport EnemyBaseWeapon from \"./enemy/EnemyBaseWeapon.png\";\r\nimport EnemyFiringWeapon from \"./enemy/EnemyFiringWeapon.png\";\r\n\r\nfunction makeImage(src) {\r\n    const image = new Image();\r\n    image.src = src;\r\n    return image;\r\n}\r\n\r\n// Player sprite components:\r\nexport const PLAYER_CHASSIS_BASE = makeImage(PlayerBaseChassis);\r\nexport const PLAYER_CHASSIS_HURT = makeImage(PlayerHurtChassis);\r\nexport const PLAYER_CHASSIS_DIRE = makeImage(PlayerNearDeathChassis);\r\n\r\nexport const PLAYER_SPECIAL_BASE = makeImage(PlayerBaseSpecial);\r\nexport const PLAYER_SPECIAL_DEPLOYED = makeImage(PlayerDeployedSpecial);\r\n\r\nexport const PLAYER_ENGINE_BASE_1 = makeImage(PlayerBaseEngine1);\r\nexport const PLAYER_ENGINE_BASE_2 = makeImage(PlayerBaseEngine2);\r\nexport const PLAYER_ENGINE_BOOST_1 = makeImage(PlayerBoostEngine1);\r\nexport const PLAYER_ENGINE_BOOST_2 = makeImage(PlayerBoostEngine2);\r\nexport const PLAYER_ENGINE_BRAKE = makeImage(PlayerBrakeEngine);\r\n\r\nexport const PLAYER_WEAPON_BASE = makeImage(PlayerBaseWeapon);\r\nexport const PLAYER_WEAPON_FIRE = makeImage(PlayerFiringWeapon);\r\n\r\n// Big enemy sprite components:\r\nexport const BIG_ENEMY_CHASSIS_BASE = makeImage(BigEnemyBaseChassis);\r\nexport const BIG_ENEMY_CHASSIS_HURT = makeImage(BigEnemyHurtChassis);\r\nexport const BIG_ENEMY_CHASSIS_DIRE = makeImage(BigEnemyNearDeathChassis);\r\n\r\nexport const BIG_ENEMY_SPECIAL_BASE = makeImage(BigEnemyBaseSpecial);\r\nexport const BIG_ENEMY_SPECIAL_DEPLOYED = makeImage(BigEnemyDeployedSpecial);\r\n\r\nexport const BIG_ENEMY_ENGINE_BASE = makeImage(BigEnemyBaseEngine);\r\nexport const BIG_ENEMY_ENGINE_BASE_2 = makeImage(BigEnemyBaseEngine2);\r\nexport const BIG_ENEMY_ENGINE_BRAKE = makeImage(BigEnemyBrakeEngine);\r\nexport const BIG_ENEMY_ENGINE_BOOST = makeImage(BigEnemyBoostEngine);\r\nexport const BIG_ENEMY_ENGINE_BOOST_2 = makeImage(BigEnemyBoostEngine2);\r\n\r\nexport const BIG_ENEMY_WEAPON_BASE = makeImage(BigEnemyBaseWeapon);\r\nexport const BIG_ENEMY_WEAPON_FIRING = makeImage(BigEnemyFiringWeapon);\r\n\r\n// Enemy sprite components:\r\nexport const ENEMY_CHASSIS_BASE = makeImage(EnemyBaseChassis);\r\nexport const ENEMY_CHASSIS_HURT = makeImage(EnemyHurtChassis);\r\nexport const ENEMY_CHASSIS_DIRE = makeImage(EnemyNearDeathChassis);\r\n\r\nexport const ENEMY_WEAPON_BASE = makeImage(EnemyBaseWeapon);\r\nexport const ENEMY_WEAPON_FIRE = makeImage(EnemyFiringWeapon);\r\n\r\nexport const ENEMY_ENGINE_BASE = makeImage(EnemyBaseEngine);\r\nexport const ENEMY_ENGINE_BOOST = makeImage(EnemyBoostEngine);\r\n\r\nexport const ENEMY_SPECIAL_BASE = makeImage(EnemyBaseSpecial);\r\nexport const ENEMY_SPECIAL_DEPLOYED = makeImage(EnemyDeployedSpecial);","import Displayable from \"../Displayable\";\r\n\r\nexport default class ImageDisplayable extends Displayable {\r\n    constructor(x, y, image, onUpdate = () => {})\r\n    {\r\n        super(x, y, ctx => ctx.drawImage(this.getImage(), 0, 0), onUpdate);\r\n        this.setImage = _image => image = _image;\r\n        this.getImage = () => image;\r\n    }\r\n}","export default class UnitVector {\r\n    constructor(x, y)\r\n    {\r\n        const magnitude = Math.sqrt((x * x) + (y * y));\r\n        this._dx = (magnitude ? (x / magnitude) : 0);\r\n        this._dy = (magnitude ? (y / magnitude) : 0);\r\n\r\n        this.getDx = () => this._dx;\r\n        this.getDy = () => this._dy;\r\n    }\r\n}","import Displayable from \"../Displayable\";\r\n\r\nexport default class SolidRect extends Displayable {\r\n    constructor(x, y, width, height, color, onUpdate = () => {}) {\r\n        super(x, y,\r\n            (ctx) => {\r\n                ctx.fillStyle = this.getColor();\r\n                ctx.fillRect(0, 0, this.getWidth(), this.getHeight());\r\n            },\r\n            onUpdate);\r\n\r\n        this.getColor = () => color;\r\n        this.getWidth = () => width;\r\n        this.getHeight = () => height;\r\n    }\r\n}","import LinearAnimation from \"./LinearAnimation\";\r\n\r\nexport default class CircularAnimation extends LinearAnimation {\r\n\r\n    constructor(x, y, frames, interval, onUpdate = () => {}) {\r\n        super(x, y, frames, interval,\r\n            () => this.reset(),\r\n            onUpdate\r\n        );\r\n    }\r\n}","import Displayable from \"../Displayable\";\r\n\r\nexport default class LinearAnimation extends Displayable {\r\n\r\n    constructor(x, y, frames, interval, onConclusion, onUpdate = () => {})\r\n    {\r\n        let counter = 0, index = 0;\r\n\r\n        super(x, y,\r\n            (ctx) => ctx.drawImage(this.getCurrentFrame(), 0, 0),\r\n            () =>\r\n            {\r\n                onUpdate();\r\n                if(++counter >= interval) {\r\n                    counter = 0;\r\n                    if(index + 1 >= frames.length) {\r\n                        onConclusion();\r\n                    }\r\n                    else ++index;\r\n                }\r\n            }\r\n        );\r\n\r\n        this.reset = () => {index = counter = 0};\r\n        this.getCurrentFrame = () => frames[index];\r\n    }\r\n\r\n}","export default class EntityDisplayable {\r\n    constructor(entity, sprite, explode, expire)\r\n    {\r\n        this.getX = entity.getX;\r\n        this.getY = entity.getY;\r\n\r\n        this.explode = explode;\r\n        this.expire = expire;\r\n\r\n        this.setSprite = _sprite => sprite = _sprite;\r\n        this.getSprite = () => sprite;\r\n        this.getEntity = () => entity;\r\n\r\n        this.update = () => sprite.update();\r\n        this.display = ctx => {\r\n            ctx.save();\r\n            ctx.translate(this.getX(), this.getY());\r\n            sprite.display(ctx);\r\n            ctx.restore();\r\n        }\r\n    }\r\n}","import ShipDisplayable from './ShipDisplayable';\r\nimport CompositeDisplayable from \"../../displayables/composites/CompositeDisplayable\";\r\n\r\nexport default class ModularShipDisplayable extends ShipDisplayable {\r\n    constructor(entity, explode, expire, body, weapon, engine, special) {\r\n        super(entity, new CompositeDisplayable(0, 0), explode, expire, () => this.fire(), () => this.hit(), () => this.specialOn(), () => this.specialOff(), () => this.changeDirection());\r\n\r\n        const sprite = this.getSprite();\r\n        sprite.add(body);\r\n        sprite.add(weapon);\r\n        sprite.add(engine);\r\n        sprite.add(special);\r\n\r\n        this.hit = () => body.hit();\r\n        this.fire = () => weapon.fire();\r\n        this.specialOn = () => special.activate();\r\n        this.specialOff = () => special.deactivate();\r\n        this.changeDirection = () => engine.changeDirection();\r\n\r\n        this.setWeapon = _weapon => {\r\n            sprite.remove(weapon);\r\n            weapon = _weapon;\r\n            sprite.add(weapon);\r\n        };\r\n\r\n        this.setBody = _body => {\r\n            sprite.remove(body);\r\n            body = _body;\r\n            sprite.add(body);\r\n        };\r\n\r\n        this.setSpecial = _special => {\r\n            sprite.remove(special);\r\n            special = _special;\r\n            sprite.add(special);\r\n        };\r\n\r\n        this.setEngine = _engine => {\r\n            sprite.remove(engine);\r\n            engine = _engine;\r\n            sprite.add(engine);\r\n        };\r\n\r\n        this.getWeapon = () => weapon;\r\n        this.getBody = () => body;\r\n        this.getSpecial = () => special;\r\n        this.getEngine = () => engine;\r\n    }\r\n}","import EntityDisplayable from './EntityDisplayable';\r\n\r\nexport default class ShipDisplayable extends EntityDisplayable {\r\n    constructor(entity, sprite, explode, expire, fire, hit, specialOn, specialOff, onDirectionChange)\r\n    {\r\n        super(entity, sprite, explode, expire);\r\n        this.hit = hit;\r\n        this.fire = fire;\r\n        this.specialOn = specialOn;\r\n        this.specialOff = specialOff;\r\n        this.changeDirection = onDirectionChange;\r\n\r\n        const innerDamage = entity.damage;\r\n        entity.damage = damage => {\r\n            innerDamage(damage);\r\n            this.hit();\r\n        };\r\n\r\n        const innerFire = entity.onFire;\r\n        entity.onFire = (x, y) => {\r\n            innerFire(x, y);\r\n            this.fire();\r\n        };\r\n\r\n        const innerSetBoosting = entity.setBoosting;\r\n        entity.setBoosting = value => {\r\n            innerSetBoosting(value);\r\n            if(value)\r\n            {\r\n                this.specialOn();\r\n            }\r\n            else\r\n            {\r\n                this.specialOff();\r\n            }\r\n        };\r\n\r\n        const innerSetTrajectory = entity.setTrajectory;\r\n        entity.setTrajectory = (dx, dy) => {\r\n            innerSetTrajectory(dx, dy);\r\n            this.changeDirection();\r\n        };\r\n    }\r\n\r\n}","import * as Images from \"../../sprites/Images\"\r\nimport ImageDisplayable from \"../../displayables/primitives/ImageDisplayable\";\r\nimport CompositeDisplayable from \"../../displayables/composites/CompositeDisplayable\";\r\nimport UnitVector from \"../../utils/UnitVector\";\r\nimport SolidRect from \"../../displayables/primitives/SolidRect\";\r\nimport CircularAnimation from \"../../displayables/primitives/CircularAnimation\";\r\nimport ModularShipDisplayable from \"./ModularShipDisplayable\";\r\nimport EntityDisplayable from \"./EntityDisplayable\";\r\n\r\n\r\nexport function makeModularPlayerDisplayable(entity, onExpire) {\r\n    const weapon = makeNewPlayerWeaponDisplayable(entity);\r\n    const body = makeNewPlayerBodyDisplayable(entity);\r\n    const engine = makeNewPlayerEngineDisplayable(entity);\r\n    const special = makeNewPlayerSpecialDisplayable(entity);\r\n\r\n    const explosion = makeNewPlayerExplosion(entity, onExpire);\r\n\r\n    const explode = function() {\r\n        explosion.centerOn(entity);\r\n        this.setSprite(explosion);\r\n    };\r\n\r\n    return new ModularShipDisplayable(entity, explode, onExpire, body, weapon, engine, special);\r\n}\r\n\r\nexport function makeSmallEnemyProjectile(projectile, onExpire) {\r\n    const sprite = new SolidRect(0, 0, projectile.getWidth(), projectile.getHeight(), '#0F0');\r\n    const explosion = makeNewExplosion(projectile, 50, \"#0F0\", 70, onExpire);\r\n    const explode = function() {\r\n        explosion.centerOn(projectile);\r\n        this.setSprite(explosion);\r\n    };\r\n    const displayable = new EntityDisplayable(projectile, sprite, explode, onExpire);\r\n\r\n    return displayable;\r\n}\r\n\r\nexport function makeBigEnemyProjectile(projectile, onExpire) {\r\n    const sprite = new SolidRect(0, 0, projectile.getWidth(), projectile.getHeight(), '#0F0');\r\n    const explosion = makeNewExplosion(projectile, 50, \"#0F0\", 70, onExpire);\r\n    const explode = function() {\r\n        explosion.centerOn(projectile);\r\n        this.setSprite(explosion);\r\n    };\r\n    const displayable = new EntityDisplayable(projectile, sprite, explode, onExpire);\r\n\r\n    return displayable;\r\n}\r\n\r\nexport function makeProjectileDisplayable(projectile, onExpire) {\r\n    const sprite = new SolidRect(0, 0,\r\n        projectile.getWidth(), projectile.getHeight(), '#FF0000');\r\n\r\n    const explosion = makeNewExplosion(projectile, 50, \"#f00\", 70, onExpire);\r\n\r\n    const explode = function() {\r\n        explosion.centerOn(projectile);\r\n        this.setSprite(explosion);\r\n    };\r\n\r\n    const displayable = new EntityDisplayable(projectile, sprite, explode, onExpire);\r\n\r\n    return displayable;\r\n}\r\n\r\nfunction makeBigEnemyExplosion(entity, onExpire) {\r\n    return makeNewExplosion(entity, 100, \"#0f0\", 100, onExpire);\r\n}\r\n\r\nfunction makeSmallEnemyExplosion(entity, onExpire) {\r\n    return makeNewExplosion(entity, 70, \"#0f0\", 80, onExpire);\r\n}\r\n\r\nfunction makeNewPlayerExplosion(entity, onExpire) {\r\n    return makeNewExplosion(entity, 100, \"#f00\", 100, onExpire);\r\n}\r\n\r\nfunction makeNewExplosion(entity, radius, color, particleCount, onExpire) {\r\n    const explosion = makeExplosion(radius, color, particleCount, onExpire);\r\n    explosion.centerOn = () => {\r\n        explosion.setX((entity.getWidth() / 2) - explosion.radius);\r\n        explosion.setY((entity.getHeight() / 2) - explosion.radius);\r\n    };\r\n\r\n    return explosion;\r\n}\r\n\r\nfunction makeNewPlayerSpecialDisplayable(entity) {\r\n   return makeModularSpecialDisplayable(entity, 7, 24, Images.PLAYER_SPECIAL_BASE, Images.PLAYER_SPECIAL_DEPLOYED);\r\n}\r\n\r\nfunction makeModularSpecialDisplayable(entity, x, y, base, deployed) {\r\n    const displayable = new ImageDisplayable(x, y, base);\r\n\r\n    displayable.activate = () => displayable.setImage(deployed);\r\n    displayable.deactivate = () => displayable.setImage(base);\r\n\r\n    return displayable;\r\n}\r\n\r\nfunction makeNewPlayerBodyDisplayable(entity) {\r\n    return makeModularBodyDisplayable(\r\n        entity, Images.PLAYER_CHASSIS_BASE, Images.PLAYER_CHASSIS_HURT, Images.PLAYER_CHASSIS_DIRE, 20\r\n    );\r\n}\r\n\r\nfunction makeModularBodyDisplayable(entity, baseImage, hurtImage, direImage, direThreshold = 20, duration = 3) {\r\n    const displayable = new ImageDisplayable(0, 0, baseImage);\r\n\r\n    displayable.hit = () => {\r\n        let counter = duration;\r\n        displayable.setImage(hurtImage);\r\n        displayable.update = () => {\r\n            if(--counter <= 0) {\r\n                if(entity.getHealth() <= direThreshold) {\r\n                    displayable.setImage(direImage);\r\n                } else {\r\n                    displayable.setImage(baseImage);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return displayable;\r\n}\r\n\r\nfunction makeNewPlayerEngineDisplayable(entity) {\r\n    const down = new ImageDisplayable(0, 0, Images.PLAYER_ENGINE_BRAKE);\r\n    const neutral = new CircularAnimation(0, 0, [Images.PLAYER_ENGINE_BASE_1, Images.PLAYER_ENGINE_BASE_2], 40);\r\n    const up = new CircularAnimation(0, 0, [Images.PLAYER_ENGINE_BOOST_1, Images.PLAYER_ENGINE_BOOST_2], 10);\r\n    return makeModularEngineDisplayable(entity, 12, 35, up, down, neutral);\r\n}\r\n\r\nfunction makeModularEngineDisplayable(entity, x , y, up, down, neutral) {\r\n    const root = new CompositeDisplayable(x, y);\r\n\r\n    root.add(neutral);\r\n\r\n    root.changeDirection = () => {\r\n        const dy = entity.getDy();\r\n\r\n        root.clear();\r\n\r\n        if(dy < 0) {\r\n            root.add(up);\r\n        } else if(dy > 0) {\r\n            root.add(down);\r\n        } else {\r\n            root.add(neutral);\r\n        }\r\n    };\r\n\r\n    return root;\r\n}\r\n\r\nfunction makeNewPlayerWeaponDisplayable(entity) {\r\n    return makeModularWeaponDisplayable(entity, 22, 0, Images.PLAYER_WEAPON_BASE, Images.PLAYER_WEAPON_FIRE);\r\n}\r\n\r\nfunction makeModularWeaponDisplayable(entity, x, y, baseImage, firingImage, duration = 3) {\r\n    const displayable = new ImageDisplayable(x, y, baseImage);\r\n\r\n    displayable.fire = () => {\r\n        let counter = 3;\r\n        displayable.setImage(firingImage);\r\n        displayable.update = () => {\r\n            if(--counter <= 0) {\r\n                displayable.setImage(baseImage);\r\n                displayable.update = () => {};\r\n            }\r\n        }\r\n    };\r\n\r\n    return displayable;\r\n}\r\n\r\nexport function makeModularEnemyDisplayable(entity, onExpire) {\r\n    const explosion = makeSmallEnemyExplosion(entity, onExpire);\r\n    const explode = function() {\r\n        explosion.centerOn(entity);\r\n        this.setSprite(explosion);\r\n    };\r\n\r\n    const body = makeEnemyBodyDisplayable(entity);\r\n    const weapon = makeEnemyWeaponDisplayable(entity);\r\n    const engine = makeEnemyEngineDisplayable(entity);\r\n    const special = makeEnemySpecialDisplayable(entity);\r\n\r\n    return new ModularShipDisplayable(entity, explode, onExpire, body, weapon, engine, special);\r\n}\r\n\r\nfunction makeEnemyBodyDisplayable(entity) {\r\n    return makeModularBodyDisplayable(entity, Images.ENEMY_CHASSIS_BASE, Images.ENEMY_CHASSIS_HURT, Images.ENEMY_CHASSIS_DIRE);\r\n}\r\n\r\nfunction makeEnemyWeaponDisplayable(entity) {\r\n    return makeModularWeaponDisplayable(entity, 6, 22, Images.ENEMY_WEAPON_BASE, Images.ENEMY_WEAPON_FIRE);\r\n}\r\n\r\nfunction makeEnemyEngineDisplayable(entity) {\r\n    const up = new ImageDisplayable(0, 0, Images.ENEMY_ENGINE_BASE);\r\n    const down = new ImageDisplayable(0, 0, Images.ENEMY_ENGINE_BOOST);\r\n    return makeModularEngineDisplayable(entity, 7, 0, up, down, up);\r\n}\r\n\r\nfunction makeEnemySpecialDisplayable(entity) {\r\n    return makeModularSpecialDisplayable(entity, 3, 4, Images.ENEMY_SPECIAL_BASE, Images.ENEMY_SPECIAL_DEPLOYED);\r\n}\r\n\r\nexport function makeNewBigEnemyDisplayable(entity, onExpire) {\r\n    const explosion = makeBigEnemyExplosion(entity, onExpire);\r\n    const explode = function() {\r\n        explosion.centerOn(entity);\r\n        this.setSprite(explosion);\r\n    };\r\n\r\n    const chassis = makeBigEnemyChassis(entity);\r\n    const special = makeBigEnemySpecial(entity);\r\n    const engine = makeBigEnemyEngine(entity);\r\n    const weapon = makeBigEnemyWeapon(entity);\r\n\r\n    return new ModularShipDisplayable(entity, explode, onExpire, chassis, weapon, engine, special);\r\n}\r\n\r\nfunction makeBigEnemyChassis(entity) {\r\n    return makeModularBodyDisplayable(entity, Images.BIG_ENEMY_CHASSIS_BASE, Images.BIG_ENEMY_CHASSIS_HURT, Images.BIG_ENEMY_CHASSIS_DIRE);\r\n}\r\n\r\nfunction makeBigEnemySpecial(entity) {\r\n    return makeModularSpecialDisplayable(entity, 0, 0, Images.BIG_ENEMY_SPECIAL_BASE, Images.BIG_ENEMY_SPECIAL_DEPLOYED);\r\n}\r\n\r\nfunction makeBigEnemyEngine(entity) {\r\n    const up = makeImageDisplayable(Images.BIG_ENEMY_ENGINE_BRAKE);\r\n    const down = new CircularAnimation(0, 0, [Images.BIG_ENEMY_ENGINE_BOOST, Images.BIG_ENEMY_ENGINE_BOOST_2], 10);\r\n    const neutral = new CircularAnimation(0, 0, [Images.BIG_ENEMY_ENGINE_BASE, Images.BIG_ENEMY_ENGINE_BASE_2], 40);\r\n    return makeModularEngineDisplayable(entity, 0, 0, up, down, neutral);\r\n}\r\n\r\nfunction makeBigEnemyWeapon(entity) {\r\n    return makeModularWeaponDisplayable(entity, 0, 0, Images.BIG_ENEMY_WEAPON_BASE, Images.BIG_ENEMY_WEAPON_FIRING);\r\n}\r\n\r\nclass Particle extends SolidRect {\r\n    constructor(x, y, size, color, lifespan, velocity, trajectory, onExpire)\r\n    {\r\n        super(x, y, size, size, color);\r\n        this._lifespan = lifespan;\r\n        this._dx = trajectory.getDx() * velocity;\r\n        this._dy = trajectory.getDy() * velocity;\r\n        this._onExpire = onExpire;\r\n    }\r\n\r\n    update = () => {\r\n        if(this._lifespan <= 0) {\r\n            this._onExpire();\r\n        }\r\n        else {\r\n            this.translate(this._dx, this._dy);\r\n        }\r\n        --this._lifespan;\r\n    }\r\n}\r\n\r\nclass Explosion extends CompositeDisplayable {\r\n    constructor(radius, color, particleCount, onExpire)\r\n    {\r\n        super(0, 0);\r\n\r\n        this.radius = radius;\r\n\r\n        let _expiredParticles = [];\r\n\r\n        const pushExpiredParticle = function() {\r\n            _expiredParticles.push(this);\r\n        };\r\n\r\n        for(let i = 0; i < particleCount; i++)\r\n        {\r\n            const speed = 4 + (Math.random() * 12);\r\n            const trajectory = new UnitVector((Math.random() * 720) - 360, (Math.random() * 720) - 360);\r\n            const lifespan = radius / speed;\r\n\r\n            const particle = new Particle(radius, radius, 2, color, lifespan, speed, trajectory, pushExpiredParticle);\r\n\r\n            this.add(particle);\r\n        }\r\n\r\n        const superUpdate = this.update;\r\n        this.update = () => {\r\n            superUpdate();\r\n            _expiredParticles.forEach(p => this.remove(p));\r\n            _expiredParticles = [];\r\n            if(this.size() === 0)\r\n            {\r\n                onExpire();\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport function makeExplosion(radius, color, particleCount, onExpire) {\r\n    return new Explosion(radius, color, particleCount, onExpire);\r\n}\r\n\r\nfunction makeImageDisplayable(image, update = () => {}) {\r\n    return new ImageDisplayable(0, 0, image, update);\r\n}","import CompositeDisplayable from \"../../displayables/composites/CompositeDisplayable\";\r\nimport SolidRect from \"../../displayables/primitives/SolidRect\";\r\n\r\nexport default function makeStarfield(width, height, starCount) {\r\n    const root = new CompositeDisplayable(0, 0);\r\n\r\n    root.add(new SolidRect(0, 0, width, height, \"#000000\"));\r\n\r\n    for(let i = 0; i < starCount; i++)\r\n    {\r\n        const star = new SolidRect(\r\n            Math.floor(Math.random() * width),\r\n            Math.floor(Math.random() * height),\r\n            1,\r\n            1,\r\n            '#' + Math.floor(Math.random() * 0xFFFFFF).toString(16)\r\n        );\r\n\r\n        const velocity = Math.random() * 3 + 0.2;\r\n        star.update = () => {\r\n            star.translate(0, velocity);\r\n            if(star.getY() >= height)\r\n            {\r\n                star.setY(0);\r\n            }\r\n        };\r\n        root.add(star);\r\n    }\r\n\r\n    return root;\r\n};","export default class EntityCollider {\r\n    constructor() {\r\n        const primaries = new Set();\r\n\r\n        this.addPrimary = group => primaries.add(group);\r\n\r\n        this.processCollisions = () => {\r\n            primaries.forEach(primaryGroup => {\r\n                primaryGroup.getEntities().forEach(primaryEntity => {\r\n                    primaryGroup.getSecondaries().forEach(secondaryGroup => {\r\n                        secondaryGroup.getEntities().forEach(secondaryEntity => {\r\n                            if(entitiesCollide(primaryEntity, secondaryEntity))\r\n                                secondaryGroup.onCollision(primaryEntity, secondaryEntity);\r\n                        })\r\n                    })\r\n                })\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction entitiesCollide(entity1, entity2) {\r\n    const\r\n        minX1 = entity1.getX(),\r\n        minY1 = entity1.getY(),\r\n        minX2 = entity2.getX(),\r\n        minY2 = entity2.getY(),\r\n        maxX1 = minX1 + entity1.getWidth(),\r\n        maxY1 = minY1 + entity1.getHeight(),\r\n        maxX2 = minX2 + entity2.getWidth(),\r\n        maxY2 = minY2 + entity2.getHeight();\r\n\r\n    if (minY1 > maxY2 || minY2 > maxY1)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    else return !(minX1 > maxX2 || minX2 > maxX1);\r\n}\r\n\r\nexport class PrimaryGroup {\r\n    constructor(entities) {\r\n        const secondaries = new Set();\r\n\r\n        this.addSecondaryGroup = group => secondaries.add(group);\r\n\r\n        this.getEntities = () => entities;\r\n        this.getSecondaries = () => secondaries;\r\n    }\r\n}\r\n\r\nexport class SecondaryGroup {\r\n    constructor(entities, onCollision) {\r\n        this.getEntities = () => entities;\r\n\r\n        this.onCollision = onCollision;\r\n    }\r\n}\r\n\r\n","import UnitVector from \"../../utils/UnitVector\";\r\n\r\nexport default class Entity {\r\n    _x;\r\n    _y;\r\n    _width;\r\n    _height;\r\n    _dx;\r\n    _dy;\r\n    _velocity;\r\n\r\n    constructor(x, y, width, height, velocity)\r\n    {\r\n        this._x = x;\r\n        this._y = y;\r\n        this._dx = 0;\r\n        this._dy = 0;\r\n        this._width = width;\r\n        this._height = height;\r\n        this._velocity = velocity;\r\n    }\r\n\r\n    update = () => {\r\n        this._x += this._dx * this._velocity;\r\n        this._y += this._dy * this._velocity;\r\n    };\r\n\r\n    setTrajectory = (dx, dy) => {\r\n        const vector = new UnitVector(dx, dy);\r\n        this._dx = vector.getDx();\r\n        this._dy = vector.getDy();\r\n    };\r\n\r\n    setLocation = (x, y) => {\r\n        this._x = x;\r\n        this._y = y;\r\n    };\r\n\r\n    setVelocity = (velocity) => {\r\n        this._velocity = velocity;\r\n    };\r\n\r\n    getDx = () => this._dx;\r\n    getDy = () => this._dy;\r\n    getX = () => this._x;\r\n    getY = () => this._y;\r\n    getWidth = () => this._width;\r\n    getHeight = () => this._height;\r\n}","import Entity from \"./Entity\";\r\n\r\nexport default class Ship extends Entity {\r\n    curHealth;\r\n    maxHealth;\r\n\r\n    curFuel;\r\n    maxFuel;\r\n\r\n    onFire;\r\n\r\n    isFiring = false;\r\n    readyToFire = true;\r\n\r\n    isBoosting = false;\r\n\r\n    constructor(x, y, width, height, velocity, maxHealth, onDeath, onFire = () => {})\r\n    {\r\n        super(x, y, width, height, velocity);\r\n        this.maxHealth = this.curHealth = maxHealth;\r\n        this.maxFuel = this.curFuel = 200;\r\n        this.onFire = onFire;\r\n        this.onDeath = onDeath;\r\n        const updatePosition = this.update;\r\n        const DEFAULT_VELOCITY = velocity;\r\n        const BOOST_VELOCITY = velocity * 2;\r\n        this.update = () => {\r\n            updatePosition();\r\n\r\n            if(this.isBoosting)\r\n            {\r\n                if(this.curFuel > 0)\r\n                {\r\n                    this.curFuel -= 2;\r\n                    this.setVelocity(BOOST_VELOCITY)\r\n                }\r\n                else\r\n                {\r\n                    this.setVelocity(DEFAULT_VELOCITY);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(this.curFuel < this.maxFuel) ++this.curFuel;\r\n                this.setVelocity(DEFAULT_VELOCITY);\r\n            }\r\n\r\n            if(this.isFiring && this.readyToFire)\r\n            {\r\n                this.onFire(this.getX(), this.getY());\r\n                this.readyToFire = false;\r\n            }\r\n            else if(!this.isFiring)\r\n            {\r\n                this.readyToFire = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    setBoosting = isBoosting => this.isBoosting = isBoosting;\r\n\r\n    setFiring = isFiring => {\r\n        this.isFiring = isFiring;\r\n    };\r\n\r\n    getCurrentFuel = () => this.curFuel;\r\n    getMaxFuel = () => this.maxFuel;\r\n    getHealth = () => this.curHealth;\r\n    getMaxHealth = () => this.maxHealth;\r\n\r\n    damage = damage => {\r\n        this.curHealth -= damage;\r\n        if(this.isDead())\r\n            this.onDeath(this);\r\n    };\r\n\r\n    heal = healing => {\r\n        this.curHealth += healing;\r\n        if(this.curHealth > this.maxHealth)\r\n            this.curHealth = this.maxHealth;\r\n    };\r\n\r\n    isDead = () => this.curHealth <= 0;\r\n}","import EntityCollider, {PrimaryGroup, SecondaryGroup} from \"./EntityCollider\";\r\nimport Ship from \"./entities/Ship\";\r\n\r\nexport default class Model {\r\n    constructor(width, height) {\r\n\r\n        // Initialize entity collections:\r\n        const friendlyShips = new Set(), friendlyProjectiles = new Set(),\r\n            hostileShips = new Set(), hostileProjectiles = new Set();\r\n\r\n        const allEntities = [friendlyShips, friendlyProjectiles, hostileShips, hostileProjectiles];\r\n\r\n        const expiredFriendlyShips = new Set(), expiredFriendlyProjectiles = new Set(),\r\n            expiredHostileShips = new Set(), expiredHostileProjectiles = new Set();\r\n\r\n        const expireds = [expiredFriendlyShips, expiredFriendlyProjectiles, expiredHostileShips, expiredHostileProjectiles];\r\n\r\n        // Lifecycle event listeners:\r\n        const notifyExpiration = initializeLifecycleMethods.bind(this)(friendlyShips, friendlyProjectiles, hostileShips, hostileProjectiles);\r\n\r\n        const removeExpiredEntities = () => {\r\n            for(let i = 0; i < allEntities.length; i++) {\r\n                const expiredSet = expireds[i], entitySet = allEntities[i];\r\n                for(const entity of expiredSet) {\r\n                    entitySet.delete(entity);\r\n                    notifyExpiration(entity);\r\n                }\r\n                expiredSet.clear();\r\n            }\r\n        };\r\n\r\n        // Collision event listeners:\r\n        const processCollisions = initializeEntityCollider.bind(this)(friendlyShips, friendlyProjectiles, hostileShips, hostileProjectiles);\r\n\r\n        const updateEntities = () => allEntities.forEach(list => list.forEach(e => e.update()));\r\n\r\n        this.update = () => {\r\n            removeExpiredEntities();\r\n            updateEntities();\r\n            processCollisions();\r\n        };\r\n\r\n        // Initialize internal event listeners:\r\n        initializeInternalEventListeners.bind(this)(expiredFriendlyShips, expiredFriendlyProjectiles, expiredHostileShips, expiredHostileProjectiles);\r\n\r\n        const northProjectileCatcher = new Ship(-50, -200, width + 100, 50, 0, -1);\r\n        northProjectileCatcher.isDead = () => false;\r\n        this.spawnHostileShip(northProjectileCatcher);\r\n\r\n        const southProjectileCatcher = new Ship(-50, 1050, width + 100, 50, 0, -1);\r\n        southProjectileCatcher.isDead = () => false;\r\n        this.spawnFriendlyShip(southProjectileCatcher);\r\n    }\r\n}\r\n\r\nfunction initializeLifecycleMethods(friendlyShips, friendlyProjectiles,\r\n                                    hostileShips, hostileProjectiles) {\r\n    const entityExpirationListeners = [];\r\n    const shipSpawnListeners = [];\r\n    const projectileSpawnListeners = [];\r\n\r\n    const notifyShipSpawn = ship => {\r\n        shipSpawnListeners.forEach(callback => callback(ship));\r\n    };\r\n\r\n    const notifyProjectileSpawn = (projectile, source) => {\r\n        projectileSpawnListeners.forEach(callback => callback(projectile, source));\r\n    };\r\n\r\n    this.subscribeEntityExpired = listener => {\r\n        entityExpirationListeners.push(listener);\r\n    };\r\n\r\n    this.subscribeShipSpawned = listener => {\r\n        shipSpawnListeners.push(listener);\r\n    };\r\n\r\n    this.subscribeProjectileSpawned = listener => {\r\n        projectileSpawnListeners.push(listener);\r\n    };\r\n\r\n    this.spawnHostileShip = ship => {\r\n        hostileShips.add(ship);\r\n        notifyShipSpawn(ship);\r\n    };\r\n\r\n    this.spawnFriendlyShip = ship => {\r\n        friendlyShips.add(ship);\r\n        notifyShipSpawn(ship);\r\n    };\r\n\r\n    this.spawnFriendlyProjectile = (projectile, source) => {\r\n        friendlyProjectiles.add(projectile);\r\n        notifyProjectileSpawn(projectile, source);\r\n    };\r\n\r\n    this.spawnHostileProjectile = (projectile, source) => {\r\n        hostileProjectiles.add(projectile);\r\n        notifyProjectileSpawn(projectile, source);\r\n    };\r\n\r\n    return entity => entityExpirationListeners.forEach(callback => callback(entity));\r\n}\r\n\r\nfunction initializeEntityCollider(friendlyShips, friendlyProjectiles,\r\n                                  hostileShips, hostileProjectiles) {\r\n\r\n    // Initialize collision event listeners and subscription interface:\r\n    const shipToShipCollisionListeners = [];\r\n    const hostileProjectileCollisionListeners = [];\r\n    const friendlyProjectileCollisionListeners = [];\r\n\r\n    this.subscribeShipToShip = listener => {\r\n        shipToShipCollisionListeners.push(listener);\r\n    };\r\n\r\n    this.subscribeHostileProjectile = listener => {\r\n        hostileProjectileCollisionListeners.push(listener);\r\n    };\r\n\r\n    this.subscribeFriendlyProjectile = listener => {\r\n        friendlyProjectileCollisionListeners.push(listener);\r\n    };\r\n\r\n    const notifyCollisionListeners = (listeners, entity1, entity2) => {\r\n        listeners.forEach(callback => callback(entity1, entity2));\r\n    };\r\n\r\n    const shipToShipCollision = (friendly, hostile) => {\r\n        notifyCollisionListeners(shipToShipCollisionListeners, friendly, hostile);\r\n    };\r\n\r\n    const hostileProjectileCollision = (friendly, projectile) => {\r\n        notifyCollisionListeners(hostileProjectileCollisionListeners, friendly, projectile);\r\n    };\r\n\r\n    const friendlyProjectileCollision = (hostile, projectile) => {\r\n        notifyCollisionListeners(friendlyProjectileCollisionListeners, hostile, projectile);\r\n    };\r\n\r\n    //Initialize collision engine:\r\n    const friendlyShipPrimaryGroup = new PrimaryGroup(friendlyShips);\r\n    const hostileShipSecondaryGroup = new SecondaryGroup(hostileShips, shipToShipCollision);\r\n    const hostileProjectileSecondaryGroup = new SecondaryGroup(hostileProjectiles, hostileProjectileCollision);\r\n    friendlyShipPrimaryGroup.addSecondaryGroup(hostileShipSecondaryGroup);\r\n    friendlyShipPrimaryGroup.addSecondaryGroup(hostileProjectileSecondaryGroup);\r\n\r\n    const hostileShipPrimaryGroup = new PrimaryGroup(hostileShips);\r\n    const friendlyProjectileSecondaryGroup = new SecondaryGroup(friendlyProjectiles, friendlyProjectileCollision);\r\n    hostileShipPrimaryGroup.addSecondaryGroup(friendlyProjectileSecondaryGroup);\r\n\r\n    const collider = new EntityCollider();\r\n\r\n    collider.addPrimary(friendlyShipPrimaryGroup);\r\n    collider.addPrimary(hostileShipPrimaryGroup);\r\n\r\n    return collider.processCollisions;\r\n}\r\n\r\nfunction initializeInternalEventListeners(expiredFriendlyShips, expiredFriendlyProjectiles,\r\n                                          expiredHostileShips, expiredHostileProjectiles) {\r\n\r\n    this.expireFriendlyProjectile = projectile => expiredFriendlyProjectiles.add(projectile);\r\n    this.expireHostileProjectile = projectile => expiredHostileProjectiles.add(projectile);\r\n    this.expireFriendlyShip = ship => expiredFriendlyShips.add(ship);\r\n    this.expireHostileShip = ship => expiredHostileShips.add(ship);\r\n\r\n    this.subscribeHostileProjectile((friendly, projectile) => {\r\n        projectile.hit(friendly);\r\n        this.expireHostileProjectile(projectile);\r\n    });\r\n\r\n    this.subscribeFriendlyProjectile((hostile, projectile) => {\r\n        projectile.hit(hostile);\r\n        this.expireFriendlyProjectile(projectile);\r\n    });\r\n\r\n    this.subscribeShipToShip((friendly, hostile) => {\r\n        friendly.damage(30);\r\n        hostile.damage(30);\r\n    });\r\n}","import Entity from \"./Entity\";\r\n\r\nexport default class Projectile extends Entity {\r\n    constructor(x, y, width, height, velocity, dx, dy, onHit = () => {})\r\n    {\r\n        super(x, y, width, height, velocity);\r\n        this.setTrajectory(dx, dy);\r\n        this.hit = onHit;\r\n    }\r\n}","import Displayable from \"../Displayable\";\r\n\r\nexport default class TextDisplayable extends Displayable {\r\n\r\n    constructor(x, y, color, getString, font = \"16px Arial\", onUpdate = () => {})\r\n    {\r\n        super(\r\n            x, y,\r\n            ctx => {\r\n                ctx.fillStyle = this.getColor();\r\n                ctx.font = font;\r\n                ctx.fillText(this.getString(), 0, 0);\r\n                },\r\n            onUpdate\r\n        );\r\n        this.getColor = () => color;\r\n        this.getString = getString;\r\n    }\r\n}","export default class Stage {\r\n    constructor(waves) {\r\n        let index = 0;\r\n\r\n        this.nextWave = () => waves[index++];\r\n        this.hasWave = () => index < waves.length;\r\n    }\r\n}","export default class HostileController {\r\n    constructor(entity, maxX, maxY) {\r\n        const minX = 0, minY = 0;\r\n        maxY /= 2;\r\n\r\n        const drunkenEntity = entity => {\r\n            entity.setFiring(Math.random() <= 0.01);\r\n\r\n            if (Math.random() <= 0.02) {\r\n                entity.setBoosting(!entity.isBoosting);\r\n            }\r\n\r\n            const x = entity.getX(), y = entity.getY();\r\n\r\n            if (x <= minX || x >= (maxX - entity.getWidth())\r\n                || y <= minY || y >= (maxY - entity.getHeight())) {\r\n                let dx, dy;\r\n\r\n                if (x <= minX) {\r\n                    dx = 1;\r\n                }\r\n                else if (x >= (maxX - entity.getWidth())) {\r\n                    dx = -1;\r\n                }\r\n                else {\r\n                    dx = entity.getDx();\r\n                }\r\n\r\n                if (y <= minY) {\r\n                    dy = 1;\r\n                }\r\n                else if (y >= (maxY - entity.getHeight())) {\r\n                    dy = -1;\r\n                }\r\n                else {\r\n                    dy = entity.getDy();\r\n                }\r\n\r\n                entity.setTrajectory(dx, dy);\r\n            }\r\n            else if (Math.random() <= 0.05) {\r\n                entity.setTrajectory((Math.random() * 2) - 1, (Math.random() * 2) - 1);\r\n            }\r\n        };\r\n\r\n        const quarterY = maxY / 2;\r\n\r\n        const rallyEntity = (entity) => {\r\n\r\n            if(entity.getY() >= quarterY) {\r\n                entity.setBoosting(false);\r\n                entity.setTrajectory((Math.random() * 2) - 1, (Math.random() * 2) - 1);\r\n                updateEntity = drunkenEntity;\r\n            } else {\r\n                entity.setBoosting(true);\r\n                entity.setTrajectory(0, 1);\r\n            }\r\n        };\r\n\r\n        let updateEntity = rallyEntity;\r\n\r\n        this.update = () => {\r\n            updateEntity(entity);\r\n        };\r\n    }\r\n}\r\n\r\n","import HostileController from \"./HostileController\";\r\n\r\nexport default class WaveController {\r\n    constructor(maxX, maxY, onWaveExpiration) {\r\n        let controllers = new Set();\r\n\r\n        this.setWave = wave => {\r\n            controllers = new Set();\r\n            wave.forEach(entity => {\r\n                entity.controller = new HostileController(entity, maxX, maxY);\r\n                controllers.add(entity.controller);\r\n            });\r\n        };\r\n\r\n        this.onEntityExpiration = entity => {\r\n            if(controllers.delete(entity.controller)) {\r\n                if(controllers.size <= 0) {\r\n                    onWaveExpiration();\r\n                }\r\n            }\r\n        };\r\n\r\n        this.update = () => controllers.forEach(controller => controller.update());\r\n    }\r\n}","import Stage from \"../../Stage\";\r\nimport WaveController from \"./WaveController\";\r\n\r\nexport default class StageController {\r\n    constructor(width, height, game, onStageComplete) {\r\n        let stage = new Stage([]);\r\n\r\n        const nextWave = () => {\r\n            const wave = stage.nextWave();\r\n            waveController.setWave(wave);\r\n        };\r\n\r\n        const onWaveExpiration = function() {\r\n            if(stage.hasWave()) {\r\n                nextWave();\r\n            } else {\r\n                onStageComplete();\r\n            }\r\n        };\r\n\r\n        const waveController = new WaveController(width, height, onWaveExpiration);\r\n\r\n        this.setStage = nextStage => {\r\n            stage = nextStage;\r\n            nextWave();\r\n        };\r\n\r\n        game.subscribeEntityExpired(waveController.onEntityExpiration);\r\n\r\n        this.update = () => waveController.update();\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport DisplayCanvas from './components/DisplayCanvas';\r\nimport CompositeDisplayable from \"./displayables/composites/CompositeDisplayable\";\r\nimport KeyListener from \"./control/KeyListener\";\r\nimport KeyboardController from \"./wylaga/control/player/KeyboardController\";\r\n\r\nimport * as Sprites from \"./wylaga/displayables/Sprites\";\r\nimport Starfield from \"./wylaga/displayables/Starfield\";\r\nimport Model from \"./wylaga/Model\";\r\nimport Ship from \"./wylaga/entities/Ship\";\r\nimport Projectile from \"./wylaga/entities/Projectile\";\r\nimport TextDisplayable from \"./displayables/primitives/TextDisplayable\";\r\nimport StageController from \"./wylaga/control/npc/StageController\";\r\nimport Stage from \"./wylaga/Stage\";\r\n\r\nexport const WIDTH = 1600, HEIGHT = 900;\r\n\r\nexport default class App extends Component {\r\n    canvas = React.createRef();\r\n    root;\r\n\r\n    game;\r\n\r\n    playerController;\r\n    enemyController;\r\n\r\n    sourcesToSpriteMakers;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.sourcesToSpriteMakers = new Map();\r\n\r\n        const game = new Model(WIDTH, HEIGHT);\r\n        const player = new Ship((WIDTH / 2) - (25), (3 * HEIGHT / 4) - (25), 50, 50, 3, 100, game.expireFriendlyShip,\r\n            (x, y) => game.spawnFriendlyProjectile(new Projectile(x + 23, y - 5 - 2, 4, 15, 9, 0, -1, ship => ship.damage(1000)), player)\r\n        );\r\n\r\n        this.initializeScene(player);\r\n        this.initializeGame(player, game);\r\n        this.startTimer();\r\n    }\r\n\r\n    initializeScene = (player) => {\r\n        this.root = new CompositeDisplayable(0, 0);\r\n        const entityLayer = new CompositeDisplayable(0, 0);\r\n        const hudLayer = new CompositeDisplayable(0, 0);\r\n\r\n        this.root.add(new Starfield(WIDTH, HEIGHT, 200));\r\n        this.root.add(entityLayer);\r\n        this.root.add(hudLayer);\r\n\r\n        hudLayer.add(new TextDisplayable(40, 40, \"#FFF\", () => \"SHIELD: \" + player.getHealth()));\r\n        hudLayer.add(new TextDisplayable(40, 60, \"#FFF\", () => \"POWER: \" + player.getCurrentFuel()));\r\n\r\n        this.addToEntityLayer = sprite => entityLayer.add(sprite);\r\n        this.removeFromEntityLayer = sprite => entityLayer.remove(sprite);\r\n    };\r\n\r\n    initializeGame = (player, game) => {\r\n        this.game = game;\r\n\r\n        this.initializeEventListeners(this.game);\r\n\r\n        const removeFromEntityLayer = this.removeFromEntityLayer;\r\n\r\n        const onExpire = function () {\r\n            removeFromEntityLayer(this);\r\n        };\r\n\r\n        this.initializePlayer(player, this.game, onExpire);\r\n        const stage = this.initializeEnemies(this.game, onExpire);\r\n        this.enemyController = new StageController(WIDTH, HEIGHT, game,\r\n            () => this.enemyController.setStage(this.initializeEnemies(this.game, onExpire)));\r\n        this.enemyController.setStage(stage);\r\n    };\r\n\r\n    initializeEventListeners(game) {\r\n        game.subscribeShipSpawned(ship => {\r\n            this.addToEntityLayer(ship.sprite);\r\n        });\r\n\r\n        game.subscribeEntityExpired(entity => {\r\n            entity.sprite.explode();\r\n        });\r\n\r\n        game.subscribeProjectileSpawned((projectile, source) => {\r\n            const projectileDisplayable = this.makeProjectileDisplayable(projectile, source, () => this.removeFromEntityLayer(projectileDisplayable));\r\n\r\n            this.addToEntityLayer(projectileDisplayable);\r\n            projectile.sprite = projectileDisplayable;\r\n        });\r\n    }\r\n\r\n    makeProjectileDisplayable = (projectile, source, onExpire) => {\r\n        return this.sourcesToSpriteMakers.get(source)(projectile, onExpire);\r\n    };\r\n\r\n    initializePlayer = (entity, game, onExpire) => {\r\n        entity.sprite = Sprites.makeModularPlayerDisplayable(entity, onExpire);\r\n        this.sourcesToSpriteMakers.set(entity, Sprites.makeProjectileDisplayable);\r\n        this.initializeController(entity);\r\n        game.spawnFriendlyShip(entity);\r\n    };\r\n\r\n    initializeController(player) {\r\n        const keyListener = new KeyListener();\r\n\r\n        keyListener.bindKeyPress('38', \"upPress\");\r\n        keyListener.bindKeyRelease('38', \"upRelease\");\r\n\r\n        keyListener.bindKeyPress('87', \"upPress\");\r\n        keyListener.bindKeyRelease('87', \"upRelease\");\r\n\r\n        keyListener.bindKeyPress('40', \"downPress\");\r\n        keyListener.bindKeyRelease('40', \"downRelease\");\r\n\r\n        keyListener.bindKeyPress('83', \"downPress\");\r\n        keyListener.bindKeyRelease('83', \"downRelease\");\r\n\r\n        keyListener.bindKeyPress('37', \"leftPress\");\r\n        keyListener.bindKeyRelease('37', \"leftRelease\");\r\n\r\n        keyListener.bindKeyPress('65', \"leftPress\");\r\n        keyListener.bindKeyRelease('65', \"leftRelease\");\r\n\r\n        keyListener.bindKeyPress('39', \"rightPress\");\r\n        keyListener.bindKeyRelease('39', \"rightRelease\");\r\n\r\n        keyListener.bindKeyPress('68', \"rightPress\");\r\n        keyListener.bindKeyRelease('68', \"rightRelease\");\r\n\r\n        keyListener.bindKeyPress('32', \"firePress\");\r\n        keyListener.bindKeyRelease('32', \"fireRelease\");\r\n\r\n        keyListener.bindKeyPress('13', \"firePress\");\r\n        keyListener.bindKeyRelease('13', \"fireRelease\");\r\n\r\n        keyListener.bindKeyPress('16', \"specialPress\");\r\n        keyListener.bindKeyRelease('16', \"specialRelease\");\r\n\r\n        this.playerController = new KeyboardController(player);\r\n\r\n        keyListener.bindAction(\"upPress\", () => this.playerController.upPressed = true);\r\n        keyListener.bindAction(\"downPress\", () => this.playerController.downPressed = true);\r\n        keyListener.bindAction(\"leftPress\", () => this.playerController.leftPressed = true);\r\n        keyListener.bindAction(\"rightPress\", () => this.playerController.rightPressed = true);\r\n\r\n        keyListener.bindAction(\"upRelease\", () => this.playerController.upPressed = false);\r\n        keyListener.bindAction(\"downRelease\", () => this.playerController.downPressed = false);\r\n        keyListener.bindAction(\"leftRelease\", () => this.playerController.leftPressed = false);\r\n        keyListener.bindAction(\"rightRelease\", () => this.playerController.rightPressed = false);\r\n\r\n        keyListener.bindAction(\"firePress\", () => this.playerController.isFiring = true);\r\n        keyListener.bindAction(\"fireRelease\", () => this.playerController.isFiring = false);\r\n\r\n        keyListener.bindAction(\"specialPress\", () => this.playerController.isBoosting = true);\r\n        keyListener.bindAction(\"specialRelease\", () => this.playerController.isBoosting = false);\r\n\r\n        window.onkeydown = keyListener.keyPressed.bind(keyListener);\r\n        window.onkeyup = keyListener.keyReleased.bind(keyListener);\r\n    }\r\n\r\n\r\n    initializeEnemies = (game, onExpire, x = 800, y = 125) => {\r\n\r\n        let baddies = [];\r\n\r\n        baddies = baddies.concat(this.initializeWing(game, onExpire, 200, 200 - 300));\r\n        baddies = baddies.concat(this.initializeWing(game, onExpire, 500, 175 - 300));\r\n        baddies = baddies.concat(this.initializeWing(game, onExpire, 800, 125 - 300));\r\n        baddies = baddies.concat(this.initializeWing(game, onExpire, 1100, 175 - 300));\r\n        baddies = baddies.concat(this.initializeWing(game, onExpire, 1400, 200 - 300));\r\n\r\n        return new Stage([baddies]);\r\n    };\r\n\r\n    initializeWing = (game, onExpire, x = 800, y = 125) => {\r\n        const badGuy = new Ship(x + 25, y + 25, 25, 25, 1, 60, game.expireHostileShip, (x, y) => {\r\n            game.spawnHostileProjectile(new Projectile(x + 9, y + 25, 7, 7, 12, 0, 1, ship => ship.damage(10)), badGuy)\r\n        });\r\n        badGuy.sprite = Sprites.makeModularEnemyDisplayable(badGuy, onExpire);\r\n        this.sourcesToSpriteMakers.set(badGuy, Sprites.makeSmallEnemyProjectile);\r\n\r\n        const badGuy2 = new Ship(x - 50, y + 25, 25, 25, 1, 60, game.expireHostileShip, (x, y) => {\r\n            game.spawnHostileProjectile(new Projectile(x + 9, y + 25, 7, 7, 12, 0, 1, ship => ship.damage(10)), badGuy2)\r\n        });\r\n        badGuy2.sprite = Sprites.makeModularEnemyDisplayable(badGuy2, onExpire);\r\n        this.sourcesToSpriteMakers.set(badGuy2, Sprites.makeSmallEnemyProjectile);\r\n\r\n        const bigBadGuy = new Ship(x - 25, y - 25, 50, 50, 0.7, 150, game.expireHostileShip, (x, y) => {\r\n            game.spawnHostileProjectile(new Projectile(x + 21, y + 42, 8, 8, 6, 0, 1, ship => ship.damage(25)), bigBadGuy);\r\n        });\r\n        bigBadGuy.sprite = Sprites.makeNewBigEnemyDisplayable(bigBadGuy, onExpire);\r\n        this.sourcesToSpriteMakers.set(bigBadGuy, Sprites.makeBigEnemyProjectile);\r\n\r\n        game.spawnHostileShip(badGuy);\r\n        game.spawnHostileShip(badGuy2);\r\n        game.spawnHostileShip(bigBadGuy);\r\n\r\n        return [badGuy, badGuy2, bigBadGuy];\r\n    };\r\n\r\n    timestamp = () => {\r\n        return window.performance && window.performance.now ? window.performance.now() : new Date().getTime();\r\n    };\r\n\r\n    now;\r\n    last;\r\n    dt;\r\n    carry;\r\n\r\n    startTimer = () => {\r\n        this.dt = 17;\r\n        this.carry = 0;\r\n        this.now = this.last = this.timestamp();\r\n        requestAnimationFrame(this.tick)\r\n    };\r\n\r\n    tick = () => {\r\n        this.now = this.timestamp();\r\n        let delta = (this.now - this.last) + this.carry;\r\n        if (delta > 1000) delta = 1000;\r\n\r\n        while (delta >= this.dt) {\r\n            delta -= this.dt;\r\n            this.enemyController.update();\r\n            this.playerController.update();\r\n            this.canvas.current.update();\r\n            this.canvas.current.repaint();\r\n            this.game.update();\r\n        }\r\n\r\n        this.carry = delta;\r\n        this.last = this.now;\r\n\r\n        requestAnimationFrame(this.tick);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <header className=\"App-header\">\r\n                    <DisplayCanvas width={WIDTH} height={HEIGHT} root={this.root} ref={this.canvas}/>\r\n                </header>\r\n            </div>\r\n        );\r\n    }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}